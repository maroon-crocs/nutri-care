import{a as r,j as e,f as g,d as x,t as m,u as f,Q as b}from"./vendor-ui-u3vF1HbP.js";import{a as j}from"./geminiService-CDbaLYac.js";import"./vendor-ai-CuKG3KbF.js";const y=()=>{const[a,u]=r.useState(""),[s,d]=r.useState(null),[t,n]=r.useState(!1),[i,o]=r.useState(null),h=async l=>{if(l.preventDefault(),!!a.trim()){n(!0),o(null),d(null);try{const c=await j(a);d(c)}catch{o("Failed to analyze meal. Please try again.")}finally{n(!1)}}},p=l=>{switch(l){case"S":return"bg-yellow-400 text-yellow-900 border-yellow-200";case"A":return"bg-green-500 text-white border-green-400";case"B":return"bg-emerald-400 text-white border-emerald-300";case"C":return"bg-orange-400 text-white border-orange-300";case"D":return"bg-red-400 text-white border-red-300";case"F":return"bg-slate-800 text-white border-slate-700";default:return"bg-slate-200 text-slate-800"}};return e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 text-purple-600 font-semibold bg-purple-50 px-3 py-1 rounded-full text-xs uppercase tracking-wider mb-4",children:[e.jsx(g,{size:14}),"AI Food Critic"]}),e.jsx("h2",{className:"text-4xl font-serif font-bold text-slate-900 mb-4",children:"The Nutri-Judge ⚖️"}),e.jsxs("p",{className:"text-slate-600 text-lg",children:["Describe your meal honestly. Our AI will roast it, rate it, and rank it. Will you get the legendary ",e.jsx("span",{className:"text-yellow-500 font-bold",children:"S-Tier"})," or the dreaded ",e.jsx("span",{className:"text-slate-800 font-bold",children:"F-Tier"}),"?"]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 max-w-5xl mx-auto items-start",children:[e.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-3xl shadow-xl border border-slate-100 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-purple-500 to-pink-500"}),e.jsxs("form",{onSubmit:h,className:"relative z-10",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 uppercase tracking-wide mb-3",children:"What did you eat?"}),e.jsx("textarea",{value:a,onChange:l=>u(l.target.value),placeholder:"e.g. A double cheeseburger with large fries and a diet coke...",className:"w-full h-32 md:h-40 p-4 rounded-xl bg-slate-50 border-2 border-slate-200 focus:border-purple-500 focus:ring-0 transition-all resize-none text-slate-700 placeholder:text-slate-400 mb-6 text-base"}),e.jsxs("button",{type:"submit",disabled:t||!a.trim(),className:"w-full bg-slate-900 hover:bg-slate-800 disabled:bg-slate-300 text-white py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[t?e.jsx(x,{className:"animate-spin"}):e.jsx(m,{size:20}),t?"Judgement in Progress...":"Judge My Meal"]})]}),e.jsx(m,{className:"absolute -bottom-10 -right-10 text-slate-50 transform rotate-12",size:200})]}),e.jsxs("div",{className:"relative min-h-[400px]",children:[i&&e.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-xl border border-red-200 flex items-center gap-3",children:[e.jsx(f,{size:20}),i]}),!s&&!t&&!i&&e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 md:p-8 border-2 border-dashed border-slate-300 rounded-3xl text-slate-400 bg-slate-50/50",children:[e.jsx(b,{size:48,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-lg font-medium",children:`"I'm waiting to judge your culinary choices..."`}),e.jsx("p",{className:"text-sm mt-2",children:"Type your meal to begin."})]}),t&&e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 rounded-3xl bg-white shadow-lg border border-slate-100",children:[e.jsx(x,{size:48,className:"animate-spin text-purple-600 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 animate-pulse",children:"Analyzing Macros..."}),e.jsx("p",{className:"text-slate-500 mt-2",children:"Calculating shame vs. gain ratio"})]}),s&&!t&&e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border border-slate-100 overflow-hidden animate-in slide-in-from-bottom-8 duration-700",children:[e.jsxs("div",{className:"bg-slate-900 p-8 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-input from-purple-500/20 to-blue-500/20"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("span",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest mb-2 block",children:"Official Tier Rank"}),e.jsx("div",{className:`inline-block text-8xl font-black ${p(s.tier).split(" ")[1]} drop-shadow-2xl scale-125 transform transition-transform hover:scale-150 duration-300`,children:s.tier}),e.jsx("h3",{className:"text-white text-2xl font-bold mt-2",children:s.title})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsx("span",{className:"text-sm font-bold text-slate-500 uppercase",children:"Health Score"}),e.jsxs("span",{className:"text-3xl font-black text-slate-900",children:[s.score,e.jsx("span",{className:"text-lg text-slate-400",children:"/100"})]})]}),e.jsx("div",{className:"w-full bg-slate-100 h-4 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-1000 ease-out ${s.score>80?"bg-green-500":s.score>50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${s.score}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-slate-50 p-3 rounded-xl text-center border border-slate-100",children:[e.jsx("span",{className:"block text-xs text-slate-500 font-bold uppercase mb-1",children:"Cals"}),e.jsx("span",{className:"font-bold text-slate-800",children:s.calories})]}),e.jsxs("div",{className:"bg-slate-50 p-3 rounded-xl text-center border border-slate-100",children:[e.jsx("span",{className:"block text-xs text-slate-500 font-bold uppercase mb-1",children:"Protein"}),e.jsx("span",{className:"font-bold text-slate-800",children:s.macros.protein})]}),e.jsxs("div",{className:"bg-slate-50 p-3 rounded-xl text-center border border-slate-100",children:[e.jsx("span",{className:"block text-xs text-slate-500 font-bold uppercase mb-1",children:"Carbs"}),e.jsx("span",{className:"font-bold text-slate-800",children:s.macros.carbs})]})]}),e.jsxs("div",{className:"bg-purple-50 p-6 rounded-2xl border border-purple-100 relative",children:[e.jsx(b,{className:"absolute top-4 left-4 text-purple-200",size:24}),e.jsxs("p",{className:"text-slate-700 italic text-center relative z-10 font-medium",children:['"',s.commentary,'"']})]})]})]})]})]})]})})};export{y as default};
